<div class="expense">
  <form [formGroup]="billDetails" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="email">Select friend with whom you want to split bill:</label>
      <div id="email">
        <ng-multiselect-dropdown
          formControlName="email"
          [settings]="dropdownSettings"
          [data]="dropDownList"
          (onSelect)="onSelectEmail($event)"
          (onDeSelect)="onDeSelectEmail($event)"
        ></ng-multiselect-dropdown>
      </div>
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <input
        type="text"
        formControlName="description"
        id="description"
        class="form-control"
      />
    </div>
    <div class="form-group">
      <label for="amount">Amount</label>
      <input
        type="text"
        formControlName="amount"
        id="amount"
        class="form-control"
      />
    </div>

    <div class="form-group">
      <label for="splitBill">Split Bill Equally</label>
      <input
        type="checkbox"
        class="input-checkbox"
        formControlName="splitBill"
        id="splitBill"
      />
    </div>

    <div *ngIf="!billDetails.get('splitBill')?.value">
      <div *ngFor="let email of billDetails.get('email')?.value; let i = index">
        <label [for]="email">Percentage share for {{ email }}</label>
        <!-- <input
          type="number"
          class="form-control"
          [id]="email"
          [ngModel]="'percentage' + (i + 1)"
          [ngModelOptions]="{ standalone: true }"
        /> -->

        <input
          type="number"
          class="form-control"
          [id]="email"
          [(ngModel)]="percentage1"
          *ngIf="i === 0"
          [ngModelOptions]="{ standalone: true }"
        />
        <input
          type="number"
          class="form-control"
          [id]="email"
          [(ngModel)]="percentage2"
          *ngIf="i === 1"
          [ngModelOptions]="{ standalone: true }"
        />
        <input
          type="number"
          class="form-control"
          [id]="email"
          [(ngModel)]="percentage3"
          *ngIf="i === 2"
          [ngModelOptions]="{ standalone: true }"
        />
        <input
          type="number"
          class="form-control"
          [id]="email"
          [(ngModel)]="percentage4"
          *ngIf="i === 3"
          [ngModelOptions]="{ standalone: true }"
        />
        <input
          type="number"
          class="form-control"
          [id]="email"
          [(ngModel)]="percentage5"
          *ngIf="i === 4"
          [ngModelOptions]="{ standalone: true }"
        />
      </div>
    </div>
    <hr />

    <button class="button button_submit">Submit</button>
    <button class="button button_cancel" (click)="onCancel()">Cancel</button>
  </form>
</div>
